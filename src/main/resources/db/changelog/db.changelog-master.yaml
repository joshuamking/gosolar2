databaseChangeLog:
  - changeSet:
      id: "Create course"
      author: josh
      changes:
        - createTable:
            tableName: course
            columns:
              - column:
                  name: id
                  type: int
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: name
                  type: varchar(255)
  - changeSet:
      id: "add new course columns"
      author: josh
      changes:
        - addNotNullConstraint:
            tableName: course
            columnName: name
            columnDataType: varchar(255)
        - addColumn:
            tableName: course
            columns:
              - column:
                  name: credits
                  type: int
                  constraints:
                    nullable: false
              - column:
                  name: classNumber
                  type: varchar(255)
                  constraints:
                    nullable: false
              - column:
                  name: description
                  type: text
                  constraints:
                    nullable: false
              - column:
                  name: degreeLevel
                  type: varchar(255)
                  constraints:
                    nullable: false
              - column:
                  name: subjectCode
                  type: varchar(255)
                  constraints:
                    nullable: false
              - column:
                  name: building
                  type: varchar(255)
              - column:
                  name: roomNumber
                  type: varchar(255)
              - column:
                  name: term
                  type: varchar(255)
                  constraints:
                    nullable: false
              - column:
                  name: startTime
                  type: int
              - column:
                  name: endTime
                  type: int
              - column:
                  name: days
                  type: varchar(255)
              - column:
                  name: crn
                  type: int
                  constraints:
                    nullable: false
              - column:
                  name: maxCapacity
                  type: int
                  constraints:
                    nullable: false
  - changeSet:
      id: "Create user and student tables"
      author: josh
      changes:
        - createTable:
            tableName: user
            columns:
              - column:
                  name: id
                  type: int
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: firstName
                  type: varchar(255)
                  constraints:
                    nullable: false
              - column:
                  name: lastName
                  type: varchar(255)
                  constraints:
                    nullable: false
              - column:
                  name: email
                  type: varchar(255)
                  constraints:
                    nullable: false
              - column:
                  name: password
                  type: varchar(255)
                  constraints:
                    nullable: false
              - column:
                  name: phoneNumber
                  type: varchar(255)
        - createTable:
            tableName: student
            columns:
              - column:
                  name: id
                  type: int
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: major
                  type: varchar(255)
  - changeSet:
      id: "add new student column 'isTA'"
      author: josh
      changes:
        - addColumn:
            tableName: student
            columns:
              - column:
                  name: isTA
                  type: boolean
                  constraints:
                    nullable: false
  - changeSet:
      id: "create new table professor"
      author: josh
      changes:
        - createTable:
            tableName: professor
            columns:
              - column:
                  name: id
                  type: int
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: officeHoursStartTime
                  type: int
              - column:
                  name: officeHoursEndTime
                  type: int
              - column:
                  name: officeLocation
                  type: varchar(255)
  - changeSet:
      id: "added professorId to course table"
      author: josh
      changes:
        - addColumn:
            tableName: course
            columns:
              - column:
                  name: professorId
                  type: int
        - addForeignKeyConstraint:
            baseColumnNames: professorId
            baseTableName: course
            constraintName: fk_course_professor
            referencedColumnNames: id
            referencedTableName: professor
  - changeSet:
      id: "added foreign keys for student and professor ids to the user table id"
      author: josh
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: id
            baseTableName: professor
            constraintName: fk_professor_user
            referencedColumnNames: id
            referencedTableName: user
        - addForeignKeyConstraint:
            baseColumnNames: id
            baseTableName: student
            constraintName: fk_student_user
            referencedColumnNames: id
            referencedTableName: user
  - changeSet:
      id: "added table for many to many relationship courses to students"
      author: josh
      changes:
        - createTable:
            tableName: student_courses
            columns:
              - column:
                  name: student_id
                  type: int
              - column:
                  name: course_id
                  type: int
        - addForeignKeyConstraint:
            baseColumnNames: student_id
            baseTableName: student_courses
            constraintName: fk_studentCourses_to_student
            referencedColumnNames: id
            referencedTableName: student
        - addForeignKeyConstraint:
            baseColumnNames: course_id
            baseTableName: student_courses
            constraintName: fk_studentCourses_to_course
            referencedColumnNames: id
            referencedTableName: course
# todo  --  id: "create new table for many to many relationship between courses and student"